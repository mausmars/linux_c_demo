查看系统内存
free

找到测试进程号
jps

查看进程内存
jmap -heap 63771

发现jvm限制参数都没有生效。。。
free 查看试用内存增大了。
jvm内存变化很小。

---------------------------------
找问题
glibc
https://ftp.gnu.org/old-gnu/Manuals/glibc-2.2.3/html_node/libc_33.html

https://juejin.cn/post/6854573220733911048

---------------------------------
https://blog.csdn.net/whbing1471/article/details/112394403
---------------------------------
cd /mnt/hgfs/vm_share/linux_c_demo/src/jni_test/java_unsafe

malloc_hook测试
https://man7.org/linux/man-pages/man3/malloc_hook.3.html

malloc hook
gcc -shared -fPIC -o libmallocfreehook.so malloc_free_hook.c

测试malloc
gcc -o malloc_demo ./malloc_demo.c
./malloc_demo

动态库连接后执行
export LD_PRELOAD=./libmallocfreehook.so
./malloc_demo