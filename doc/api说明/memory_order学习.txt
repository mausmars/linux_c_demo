http://c.biancheng.net/view/431.html
https://github.com/zenny-chen/C11-atomic-operations-in-detail


栅栏（内存屏障）
void atomic_thread_fence(memory_order order);

若参数值为 memory_order_release，函数 atomic_thread_fence（）建立一个释放栅栏（releas fence）。在这种情况下，原子写操作必须在释放栅栏之后发生。

若参数值为 memory_order_acquire 或 memory_order_consume，函数 atomic_thread_fence（）建立一个捕获栅栏（acquire fence）。在这种情况下，原子读操作必须在捕获栅栏之前发生。